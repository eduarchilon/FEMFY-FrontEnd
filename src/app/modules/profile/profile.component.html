<div class="bg-[#FEA8B1] px-[3vw]">
  <div class="pb-[300px] pt-10 mt-20 px-5 max-w-[1280px] m-auto">
    <div class="container mx-auto">
      <div class="lg:flex lg:gap-10">
        <div class="lg:w-1/3 text-center mb-5 md:mb-0">
          <div
            class="mb-5 rounded-full border-8 border-[#DA047A] w-[337px] h-[337px] mx-auto"
          >
            <img
              src="https://img.freepik.com/free-photo/tender-woman-having-brow-color-added-her-eyebrows_231208-3536.jpg?w=740&t=st=1696609354~exp=1696609954~hmac=baaa69b1838e8d1cbc325815ded6adca4a0a6a422cb0a1bc641f52ebbaf7e139"
              class="w-[100%] h-[100%] object-cover rounded-full"
            />
          </div>
          <span class="text-5xl text-white font-bold block mb-10">{{
            userResponse.userName
          }}</span>
          <span class="text-xl text-white underline underline-offset-4"
            >Cambiar foto de perfil</span
          >
        </div>
        <div class="lg:w-2/3">
          <ng-container *ngIf="editProfile; else readOnlyProfile">
            <!-- Editable profile view -->
            <div class="flex justify-between mb-5">
              <h2 class="text-4xl text-white font-bold">Editar perfil</h2>
              <button
                class="bg-[#DA047A] text-white font-semibold rounded-[20px] p-3"
                (click)="disableEditMode()"
              >
                Cancelar
              </button>
            </div>
            <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
              <div class="bg-[#FACAEC] rounded-[20px] mb-5">
                <h3
                  class="text-2xl text-white bg-[#A35EDF] rounded-t-[20px] font-bold px-5 py-3"
                >
                  Datos personales
                </h3>
                <div class="grid lg:grid-cols-3 gap-4 p-5">
                  <div>
                    <label for="note" class="block text-xl mb-2">Nombre</label>
                    <input
                      type="text"
                      formControlName="firstName"
                      class="rounded-full border w-full p-4"
                    />
                  </div>
                  <div>
                    <label for="note" class="block text-xl mb-2"
                      >Apellido</label
                    >
                    <input
                      type="text"
                      formControlName="lastName"
                      class="rounded-full border w-full p-4"
                    />
                  </div>
                  <div>
                    <label for="note" class="block text-xl mb-2"
                      >Fecha de nacimiento</label
                    >
                    <input
                      type="date"
                      formControlName="birthdate"
                      class="rounded-full border w-full p-4"
                    />
                  </div>
                </div>
              </div>
              <div class="bg-[#FACAEC] rounded-[20px] mb-5">
                <h3
                  class="text-2xl text-white bg-[#A35EDF] rounded-t-[20px] font-bold px-5 py-3"
                >
                  Contacto
                </h3>
                <div class="grid lg:grid-cols-2 gap-4 p-5">
                  <div>
                    <label for="note" class="block text-xl mb-2">Email</label>
                    <input
                      type="text"
                      formControlName="email"
                      class="rounded-full border w-full p-4"
                    />
                  </div>
                  <div>
                    <label for="note" class="block text-xl mb-2"
                      >Teléfono</label
                    >
                    <input
                      type="text"
                      formControlName="phone"
                      class="rounded-full border w-full p-4"
                    />
                  </div>
                </div>
              </div>

              <div class="text-end mb-5">
                <button
                  class="bg-[#DA047A] text-white font-semibold rounded-[20px] p-3"
                  type="submit"
                >
                  Guardar cambios
                </button>
              </div>
            </form>
          </ng-container>

          <ng-template #readOnlyProfile>
            <!-- Read-only profile view -->
            <div class="flex justify-between mb-5">
              <h2 class="text-4xl text-white font-bold">Perfil</h2>
              <button
                class="bg-[#DA047A] text-white font-semibold rounded-[20px] p-3"
                (click)="enableEditMode()"
              >
                Modificar
              </button>
            </div>
            <div class="bg-[#FACAEC] rounded-[20px] mb-5">
              <h3
                class="text-2xl text-white bg-[#A35EDF] rounded-t-[20px] font-bold px-5 py-3"
              >
                Datos personales
              </h3>
              <div class="grid lg:grid-cols-3 gap-4 p-5">
                <div>
                  <label for="note" class="block text-xl mb-2">Nombre</label>
                  <p>{{ userResponse.firstName || "Sin nombre" }}</p>
                </div>
                <div>
                  <label for="note" class="block text-xl mb-2">Apellido</label>
                  <p>{{ userResponse.lastName || "Sin apellido" }}</p>
                </div>
                <div>
                  <label for="note" class="block text-xl mb-2"
                    >Fecha de nacimiento</label
                  >
                  <p>{{ userResponse.birthdate | date : "dd/MM/yyyy" }}</p>
                </div>
              </div>
            </div>
            <div class="bg-[#FACAEC] rounded-[20px] mb-5">
              <h3
                class="text-2xl text-white bg-[#A35EDF] rounded-t-[20px] font-bold px-5 py-3"
              >
                Contacto
              </h3>
              <div class="grid lg:grid-cols-2 gap-4 p-5">
                <div>
                  <label for="email" class="block text-xl mb-2">Email</label>
                  <p>{{ userResponse.email }}</p>
                </div>
                <div>
                  <label for="phone" class="block text-xl mb-2">Teléfono</label>
                  <p>{{ userResponse.phone || "Sin número" }}</p>
                </div>
              </div>
            </div>
            <div class="bg-[#FACAEC] rounded-[20px] mb-5">
              <h3
                class="text-2xl text-white bg-[#A35EDF] rounded-t-[20px] font-bold px-5 py-3"
              >
                Tu plan
              </h3>
              <div class="text-center px-5 py-10">
                <p class="text-2xl font-bold" *ngIf="userResponse.isSuscripto">
                  Versión premium
                </p>
                <p class="text-2xl font-bold" *ngIf="!userResponse.isSuscripto">
                  Versión gratuita
                </p>
              </div>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
